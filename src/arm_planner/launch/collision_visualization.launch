<launch>
  <!-- 碰撞物体可视化节点 -->
  <node name="collision_visualizer" pkg="arm_planner" type="_cc_configure_rviz_collision_display.py" output="screen">
    <remap from="/collision_objects_markers" to="/collision_visualization_markers"/>
  </node>

  <!-- 发布碰撞物体的静态变换（用于在RViz中显示碰撞区域） -->
  <node name="collision_zone_publisher" pkg="rostopic" type="rostopic" 
        args="pub -r 10 /collision_zones visualization_msgs/MarkerArray 
        '{markers: [
          {header: {frame_id: lifting_Link}, ns: collision_zones, id: 0, type: 1, action: 0, 
           pose: {position: {x: 0, y: 0, z: 0}, orientation: {w: 1}},
           scale: {x: 0.06, y: 0.4, z: 0.06},
           color: {r: 1.0, g: 0.0, b: 0.0, a: 0.5}, lifetime: {secs: 0, nsecs: 0}},
          {header: {frame_id: lidar_Link}, ns: collision_zones, id: 1, type: 3, action: 0,
           pose: {position: {x: 0, y: 0, z: 0}, orientation: {w: 1}},
           scale: {x: 0.08, y: 0.08, z: 0.06},
           color: {r: 1.0, g: 0.0, b: 0.0, a: 0.5}, lifetime: {secs: 0, nsecs: 0}},
          {header: {frame_id: box_Link}, ns: collision_zones, id: 2, type: 1, action: 0,
           pose: {position: {x: 0, y: 0, z: 0}, orientation: {w: 1}},
           scale: {x: 0.3, y: 0.15, z: 0.25},
           color: {r: 0.8, g: 0.0, b: 0.0, a: 0.4}, lifetime: {secs: 0, nsecs: 0}},
          {header: {frame_id: base_link}, ns: collision_zones, id: 3, type: 1, action: 0,
           pose: {position: {x: 0, y: 0, z: 0}, orientation: {w: 1}},
           scale: {x: 0.5, y: 0.08, z: 0.35},
           color: {r: 0.6, g: 0.0, b: 0.0, a: 0.3}, lifetime: {secs: 0, nsecs: 0}}
        ]}'" />

  <!-- 提示信息 -->
  <node name="collision_info" pkg="rostopic" type="rostopic" 
        args="pub -1 /collision_visualization_info std_msgs/String 
        'data: 红色透明物体表示需要避免碰撞的部件。透明度越高，碰撞风险越大。'" />
</launch>